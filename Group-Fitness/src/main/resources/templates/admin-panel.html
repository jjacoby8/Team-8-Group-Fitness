<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
  <title>Admin Panel</title>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/dt-1.12.1/datatables.min.css"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/v/bs5/dt-1.12.1/datatables.min.js"></script>
</head>

<body>
<div class="container">
  <h1>Admin Panel</h1>
  <hr/>
  <table class="table table-bordered table-striped table-responsive" id="member-table">
    <thead>
    <tr>
      <th>ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
      <th>Member Role</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="member: ${members}">
      <td th:text="${member.id}"></td>
      <td th:text="${member.firstName}"></td>
      <td th:text="${member.lastName}"></td>
      <td th:text="${member.email}"></td>
      <td th:text="${member.memberRole}"></td>
      <td>
        <a th:href="@{/updateMember(memberId=${member.id})}" class="btn btn-secondary">Update</a>
        <a th:href="@{/deleteMember(memberId=${member.id})}" class="btn btn-danger">Delete</a>
      </td>
    </tr>
    </tbody>
  </table>
  <div>
    <a th:href="@{/addMembers}" class="btn btn-primary">Add Member</a>
    <hr/>
    <a th:href="@{/homepage}" class="btn btn-primary">Back</a>
  </div>
</div>
<script>
        $(document).ready(function() {
          $("#member-table").DataTable ({
            'aoColumnDefs': [{
                'bSortable': false,
                'aTargets': [-1]
            }]
          });
        })
</script>
</body>
</html>